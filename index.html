<!DOCTYPE html>
<!-- pokemon-candy-2025-11-19-d -->
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ポケモン経験値計算（けいけんアメ版）</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css?v=20251119-1">
</head>
<body>
  <h1>ポケモン経験値最適化ツール</h1>

  <div class="card">
    <label for="pokemonName">ポケモン名</label>
    <input id="pokemonName" type="text" list="pokemonList" placeholder="例：フシギダネ">
    <datalist id="pokemonList"></datalist>

    <!-- 入力モード切り替え -->
    <div class="mode-row">
      <label>
        <input type="radio" name="inputMode" value="level" checked>
        レベルで入力
      </label>
      <label>
        <input type="radio" name="inputMode" value="exp">
        経験値で入力
      </label>
    </div>

    <!-- レベル入力グループ -->
    <div id="levelInputGroup">
      <label for="currentLevel">現在のレベルもしくは経験値</label>
      <input id="currentLevel" type="number" min="1" max="100" value="1">
    </div>

    <!-- 経験値入力グループ -->
    <div id="expInputGroup" style="display:none;">
      <label for="currentExp">現在の経験値</label>
      <input id="currentExp" type="number" min="0" step="1" placeholder="例：8012">
    </div>

    <label for="targetLevel">上げたいレベル</label>
    <input id="targetLevel" type="number" min="1" max="100" value="50">

    <button id="calcBtn" disabled>計算する</button>
    <div id="error" class="error"></div>
  </div>

  <div class="card" id="resultCard" style="display:none;">
    <div class="result-row">
      <span class="label">ポケモン（レベル）</span>
      <span class="value" id="resultName"></span>
    </div>
    <div class="result-row">
      <span class="label">経験値タイプ</span>
      <span class="value" id="resultGrowth"></span>
    </div>
   
    <div class="result-row">
      <span class="label">目標経験値</span>
      <span class="value" id="resultTargetExp"></span>
    </div>
    <div class="result-row">
      <span class="label">現在経験値</span>
      <span class="value" id="resultCurrentExp"></span>
    </div>
    
    <div class="result-row">
      <span class="label">必要経験値</span>
      <span class="value" id="resultNeedExp"></span>
    </div>
    <div class="candies">
      <div><strong>けいけんアメの目安</strong></div>
      <div id="resultCandies"></div>
      <div class="note">
        ※第1版では「不足しないようにXSで微調整」した簡易計算です。<br>
        ※最適解（過不足や個数を最小化）は今後の拡張で対応予定です。
      </div>
    </div>
  </div>

    <!-- 経験値テーブル -->
    <div class="card" id="expTableCard">
    <div class="result-row">
      <span class="label">経験値タイプ別テーブル</span>
    </div>

    <label for="growthTypeSelect">経験値タイプを選択</label>
    <select id="growthTypeSelect">
      <option value="">選択してください</option>
      <!-- 中身はJS側で埋める -->
    </select>

    <div id="expTableContainer" class="exp-table-container"></div>
  </div>
    
<script src="script.js?v=20251119-d"></script>
</body>
</html>